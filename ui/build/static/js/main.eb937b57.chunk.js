(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{323:function(e,t,a){e.exports=a(386)},329:function(e,t,a){},382:function(e,t){},386:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),l=a.n(r),o=a(18),i=(a(328),a(415)),u=a(412),m=a(42),s=a(191),f=a(304),E=a.n(f),d=a(255),b=a(190),p=a(43),g=a(83),O=a(413),y=(a(329),a(254)),v=a(390),j=a(408),h=a(303),x=a.n(h),S=a(302),w=a.n(S),k=a(301),C=a.n(k),M=Object(g.a)({palette:{primary:{main:"#cacaca"},secondary:{main:"#01579b"}}});function I(e){switch(e.name){case"logs":return c.a.createElement(j.a,null,c.a.createElement(C.a,null));case"systemd":return c.a.createElement(j.a,null,c.a.createElement(w.a,null));default:return c.a.createElement(j.a,null,c.a.createElement(x.a,null))}}var A=function(e){var t=e.io,a=e.children,r=e.go,l=e.page,f=Object(n.useState)(!1),g=Object(o.a)(f,2),j=g[0],h=g[1],x=Object(n.useState)(!1),S=Object(o.a)(x,2),w=S[0],k=S[1],C=Object(n.useState)({}),A=Object(o.a)(C,2),R=A[0],T=A[1];return Object(n.useEffect)((function(){if(t)return t.on("menu",(function(e){T(e),k(!0)})),function(){t.off("menu")}}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null),c.a.createElement(O.a,{theme:M},w&&c.a.createElement(m.a,{open:j,onClose:function(){return h(!1)},variant:"temporary"},c.a.createElement(v.a,{style:{width:"300px"}},Object.keys(R).filter((function(e){return R[e].enable})).map((function(e){return c.a.createElement(y.a,{key:e,selected:l===e,onClick:function(){r(e),h(!1)}},c.a.createElement(I,{name:e}),c.a.createElement(p.a,{variant:"inherit"},R[e].label))})))),c.a.createElement(i.a,{position:"static",variant:"elevation"},c.a.createElement(d.a,null,w&&c.a.createElement(s.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){h(!0)},style:{marginRight:M.spacing(2)}},c.a.createElement(E.a,null)),c.a.createElement(p.a,{variant:"h6"},c.a.createElement("span",null,"OS Admin"),c.a.createElement("span",{className:"blinking-cursor"},"\u258b")))),c.a.createElement(b.a,{p:2},a)))},R=a(421),T=a(144),U=a.n(T),_=function(e){var t=e.data,a=Object(n.useState)(void 0),r=Object(o.a)(a,2),l=r[0],i=r[1],u=Object(n.useRef)(null);return Object(n.useEffect)((function(){l&&(l.data.datasets[0].data=t,l.update())}),[t]),Object(n.useEffect)((function(){u.current&&i(new U.a(u.current,{type:"bar",data:{datasets:[{label:"CPU %",data:t,backgroundColor:"rgba(54, 162, 235,0.5 )",borderColor:"rgba(54, 162, 235, 0.8)",borderWidth:1}]},options:{legend:{display:!1},animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:100}}],xAxes:[{type:"time",time:{unit:"minute"}}]}}}))}),[u]),c.a.createElement("canvas",{ref:u,width:"400",height:"100"})},N=a(416),P=a(418),H=a(417),J=a(305),z=a.n(J),D=function(e){var t=e.io,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){return t.on("cpustat",(function(e){i(e.map((function(e){return{x:new Date(e.date),y:e.currentload}})))})),function(){t.off("cpustat")}}),[t]),c.a.createElement(N.a,null,c.a.createElement(H.a,{avatar:c.a.createElement(z.a,null),title:"CPU utilization",subheader:l&&l.length>0?Math.round(l[0].y)+"%":""}),c.a.createElement(P.a,{style:{height:"auto"}},c.a.createElement(_,{data:l})))},q=function(e){var t=e.data,a=Object(n.useState)(void 0),r=Object(o.a)(a,2),l=r[0],i=r[1],u=Object(n.useRef)(null);return Object(n.useEffect)((function(){l&&(l.data.datasets[0].data=t.map((function(e){return{x:e.x,y:e.rx}})),l.data.datasets[1].data=t.map((function(e){return{x:e.x,y:e.tx}})),l.update())}),[t]),Object(n.useEffect)((function(){u.current&&i(new U.a(u.current,{type:"line",data:{datasets:[{label:"rx",data:[],backgroundColor:"rgba(54, 162, 235,0.5 )",fill:!1,lineTension:0},{label:"tx",data:[],backgroundColor:"rgba(54, 0, 235,0.5 )",fill:!1,lineTension:0}]},options:{legend:{display:!1},animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:100}}],xAxes:[{type:"time",time:{unit:"minute"}}]}}}))}),[u]),c.a.createElement("canvas",{ref:u,width:"400",height:"100"})},L=a(306),F=a.n(L),X=a(256),Z=function(e){var t=e.io,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],u=Object(n.useState)(void 0),m=Object(o.a)(u,2),s=m[0],f=m[1];return Object(n.useEffect)((function(){if(t)return t.on("netstat",(function(e){var t=e.map((function(e){for(var t={x:e.date,rx:0,tx:0},a=0;a<e.data.length;a++)t.rx+=e.data[a].rx_sec,t.tx+=e.data[a].tx_sec;return t}));i(t),f(t[0])})),function(){t.off("netstat")}}),[t]),c.a.createElement(N.a,null,c.a.createElement(H.a,{avatar:c.a.createElement(F.a,null),title:"Network utilization",subheader:s?"RX/TX \u2193".concat(X(s.rx),"/\u2191").concat(X(s.tx)):""}),c.a.createElement(P.a,{style:{height:"auto"}},c.a.createElement(q,{data:l})))},B=a(259),G=a(260),W=a(258),K=a(257),Q=a(419),V=a(93),Y=a.n(V),$=a(256);function ee(e){var t=e.name,a=e.value;return c.a.createElement(K.a,{key:t},c.a.createElement(W.a,null,t),c.a.createElement(W.a,null,a))}function te(e){var t=e.name;return c.a.createElement(K.a,{key:t},c.a.createElement(W.a,{width:"20%"},c.a.createElement(Q.a,null)),c.a.createElement(W.a,null,c.a.createElement(Q.a,null)))}var ae=function(e){var t=e.io,a=Object(n.useState)(void 0),r=Object(o.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){return t.on("summary",(function(e){i(e)})),function(){t.off("summary")}}),[]),c.a.createElement(B.a,null,c.a.createElement(G.a,null,l?c.a.createElement(ee,{name:"Hardware",value:"".concat(l.system.manufacturer," ").concat(l.system.model)}):c.a.createElement(te,{name:"Hardware"}),l?c.a.createElement(ee,{name:"CPU",value:"".concat(l.cpu.manufacturer," ").concat(l.cpu.brand," ").concat(l.cpu.physicalCores,"x").concat(l.cpu.speed,"MHz")}):c.a.createElement(te,{name:"CPU"}),l?c.a.createElement(ee,{name:"Memory",value:"".concat($(l.mem.total),"/").concat($(l.mem.free))}):c.a.createElement(te,{name:"Memory"}),l?c.a.createElement(ee,{name:"Machine ID",value:"".concat(l.system.uuid)}):c.a.createElement(te,{name:"Machine ID"}),l?c.a.createElement(ee,{name:"OS",value:"".concat(l.osInfo.distro," ").concat(l.osInfo.release," ").concat(l.osInfo.arch," kernel ").concat(l.osInfo.kernel)}):c.a.createElement(te,{name:"OS"}),l?c.a.createElement(ee,{name:"Hostname",value:"".concat(l.osInfo.hostname)}):c.a.createElement(te,{name:"Hostname"}),l?c.a.createElement(ee,{name:"System time",value:"".concat(Y()(l.time.current))}):c.a.createElement(te,{name:"System time"}),l?c.a.createElement(ee,{name:"Uptime",value:"".concat(Y.a.duration(l.time.uptime,"seconds").humanize(!0))}):c.a.createElement(te,{name:"Uptime"})))},ne=a(307),ce=a.n(ne),re=[{label:"Name"},{label:"Description"},{label:"Load state"},{label:"Active state"},{label:"Sub state",options:{display:"false"}},{label:"Unit flow",options:{display:"false"}},{label:"Unit path",options:{display:"false"}},{label:"Job",options:{display:"false"}},{label:"Job type",options:{display:"false"}},{label:"Job path",options:{display:"false"}}],le={selectableRows:"none",onRowClick:function(e){console.log(e)}},oe=function(e){var t=e.io,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){if(t)return t.emit("getsystemctl"),t.on("systemctl",(function(e){i(e)})),function(){t.off("systemctl")}}),[t]),c.a.createElement(ce.a,{title:"Systemd services",data:l,columns:re,options:le})},ie=a(422),ue=a(424),me=a(423),se=function(e){var t=e.io,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],u=Object(n.useState)(void 0),m=Object(o.a)(u,2),s=m[0],f=m[1];return Object(n.useEffect)((function(){return t&&t.on("log",(function(e){console.log("data"),e.error?f(e.error):i(e)})),function(){t.off("log")}}),[t]),Object(n.useEffect)((function(){t.emit("getlog")}),[]),s?c.a.createElement(ue.a,{severity:"error"},c.a.createElement(me.a,null,"Error"),s):c.a.createElement(ie.a,null,c.a.createElement(B.a,{"aria-label":"simple table"},c.a.createElement(G.a,null,l.map((function(e){return c.a.createElement(K.a,{key:e.__MONOTONIC_TIMESTAMP},c.a.createElement(W.a,null,Y()(e.__MONOTONIC_TIMESTAMP).toString()),c.a.createElement(W.a,null,e.MESSAGE))})))))},fe=a(426),Ee=a(312),de=a.n(Ee),be=a(420),pe=a(391),ge=a(392),Oe=a(277),ye=a(273);function ve(e){var t=e.io,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],i=r[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),f=m[0],E=m[1];return c.a.createElement(be.a,{open:!0},c.a.createElement(d.a,{variant:"dense"},c.a.createElement(s.a,{edge:"start",color:"inherit","aria-label":"menu"},c.a.createElement(fe.a,{alt:"OSAdmin",src:"/android-chrome-512x512.png"})),c.a.createElement(p.a,{variant:"h6"},"Login")),c.a.createElement(pe.a,null,c.a.createElement(ge.a,null,c.a.createElement(Oe.a,{required:!0,id:"standard-required",label:"Username",value:l,onChange:function(e){i(e.target.value)}})),c.a.createElement(ge.a,null,c.a.createElement(Oe.a,{id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password",value:f,onChange:function(e){E(e.target.value)}})),c.a.createElement(ge.a,null,c.a.createElement(ye.a,{color:"primary",variant:"contained",style:{width:"100%"},onClick:function(){t.emit("login",{username:l,password:f})}},"Login"))))}function je(e){var t=e.io;switch(e.page){case"systemd":return c.a.createElement(R.a,{item:!0,xs:12,md:12},c.a.createElement(oe,{io:t}));case"logs":return c.a.createElement(R.a,{item:!0,xs:12,md:12},c.a.createElement(se,{io:t}));default:return c.a.createElement(c.a.Fragment,null,c.a.createElement(R.a,{item:!0,xs:12,md:6},c.a.createElement(R.a,{container:!0},t&&c.a.createElement(ae,{io:t}))),c.a.createElement(R.a,{item:!0,xs:12,md:6},c.a.createElement(R.a,{container:!0,spacing:2},c.a.createElement(R.a,{item:!0,xs:12,md:12},t&&c.a.createElement(D,{io:t})),c.a.createElement(R.a,{item:!0,xs:12,md:12},t&&c.a.createElement(Z,{io:t})))))}}var he=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),u=i[0],m=i[1],s=Object(n.useState)("summary"),f=Object(o.a)(s,2),E=f[0],d=f[1];return Object(n.useEffect)((function(){var e=de()("/",{query:{token:localStorage.getItem("sid")}});e.on("loggedin",(function(e){localStorage.setItem("sid",e),m(!0)})),e.on("logoff",(function(){m(!1)})),e.on("error",(function(e){console.log("ErrRRR",e),m(!1)})),e.on("connect_error",(function(e){console.log(e)})),r(e)}),[]),u?c.a.createElement(A,{io:a,go:d,page:E},c.a.createElement(R.a,{container:!0,spacing:2,justify:"center"},c.a.createElement(je,{page:E,io:a}))):c.a.createElement(ve,{io:a})};l.a.render(c.a.createElement(he,null),document.getElementById("root"))}},[[323,1,2]]]);
//# sourceMappingURL=main.eb937b57.chunk.js.map